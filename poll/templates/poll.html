{% extends "base.html" %}

{% block content %}

<div class="box">
  <div class="content is-large">
    <p style="text-align: left;">Poll inrichting pleintje</p>
  </div>
  <div class="content">
    <p style="text-align: left;">Met de schuifbalk kan je aangeven hoe belangrijk je de functie of het inrichtings element vind voor ons pleintje. Indien
      je de schuifbalk helemaal links zet, dan wil dat zeggen dat je aan het desbetreffende item geen waarde hecht, indien je 
      schuifbalk helemaal naar rechts zet, dan hecht je veel waarde aan dit item. </p>
    <p style="text-align: left;"><b>Klik onderaan op "Bewaren" om je keuzes op te slaan, klik op "Stemmen" om je stem definitief 
      te registreren. Eenmaal je stem geregistreerd is kan je die niet meer wijzigen.</b></p>
  </div>
  {% with messages = get_flashed_messages() %}
  {% if messages %}
      <div class="notification is-warning">
          {{ messages[0] }}
      </div>
  {% endif %}
  {% endwith %}
</div>

<form method="POST" action="/poll">     
  {{ form.csrf_token }}  
  <div class="box">
    <div class="content is-large">
      <p style="text-align: left;">Functies</p>
    </div>
    <div class="content">
      <p style="text-align: left;">Geef hier aan welke prioriteit je aan verschillende functies voor het plein toekent, gaande
        van 0 : <em>over my dead body !</em>, tot 5 : <em>oh yes please !</em>
      </p>
    </div>  
    <table class="table is-hoverable" width="100%">
      <thead>
        <tr><th align="left">Functie</th>
          {% for subfield in form.functions[0].rating %}
            <th>{{ subfield.label }}</th>
          {% endfor %}          
       </tr></thead>
       {% for q in form.functions %}   
        <tr>
          <td align="left">{{ titles_functions[loop.index0] }}</td>
          {% for subfield in q.form.rating %}
            <td>{{ subfield }}</td>
          {% endfor %}          
        </tr>
       {% endfor %}
    </table>
  </div>
  
  <div class="box">
    <div class="content is-large">
      <p style="text-align: left;">Inrichtings elementen</p>
    </div>
    <div class="content">
      <p style="text-align: left;">Geef hier aan welke prioriteit je aan verschillende inrichtings elementen voor het 
         pleintje toekent, , gaande van 0 : <em>not in my lifetime !</em>, tot 5 : <em>Duh !</em></p>
    </div>  
    <table class="table is-hoverable" width="100%">
      <thead>
        <tr><th align="left">Element</th>
          {% for subfield in form.elements[0].rating %}
            <th>{{ subfield.label }}</th>
          {% endfor %}          
       </tr></thead>
       {% for q in form.elements %}   
        <tr>
          <td align="left">{{ titles_elements[loop.index0] }}</td>
          {% for subfield in q.form.rating %}
            <td>{{ subfield }}</td>
          {% endfor %}          
        </tr>
       {% endfor %}
    </table>
</div>

<div class="box">
  <div class="buttons has-addons is-right">    
    {{ form.save(class_="button is-info is-outlined")}}
    {{ form.submit(class_="button is-danger is-outlined")}}
  </div>
  </div>
</div>
</form>
</div>

{% endblock %}
